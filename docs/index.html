<!DOCTYPE html><html><head><title>How to implement Two-Factor Authentication- RingCentral Developer Tutorials</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="72x72" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="114x114" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/jquery-ui@1.12.1/themes/base/all.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div class="dpw-header-container"><div class="dpw-header center-section"><div class="logo"><a href="https://developers.ringcentral.com" class="logo-link"></a></div><div class="nav-top-menus"></div><div class="dpw-login-section"><a href="https://developer.ringcentral.com/login.html#/">Sign in | Sign up</a></div></div></div><div id="viewsaurus" data-title="How to implement Two-Factor Authentication"><div class="saurus-panes"><div class="saurus-panes-header"><a href="https://ringcentral.github.io/tutorials/" class="saurus-back-to-tutorials">Tutorials</a><span>&gt;</span><span>How to implement Two-Factor Authentication</span></div><div class="saurus-prose"><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw icon-menu"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>Learn how to use RingCentral SMS API to implement Two-Factor Authentication for enhancing security. Click the &quot;Start Tutorial&quot; button below to start.</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="2FA Tutorial" class="chapter"><div data-title="Welcome!" data-file="tutorial/config.json" class="step"><h3 id="two-factor-authentication">Two-Factor Authentication</h3>
<p>This tutorial shows how to use RingCentral SMS API to send a verification code for 2-factor authentication to help prevent brute force attacks and protect user&#39;s accounts.</p>
<p><strong> Use case 1: Protect a user account from brute force attacks. </strong></p>
<p>After 3 unsuccessful attempts were made to log into a user&#39;s account, the account will be temporarily locked. The service will generate a 6-digit verification code and send the code to the user&#39;s mobile phone number.</p>
<p>The user has to use the verification code to unlock his/her account. The verification code can be used only one time and it also expires after 1 hour.</p>
<p>If the verification code is incorrect, or if the verification code expired, the user has to request for a new verification code.</p>
<p><strong> Use case 2: Prevent taking over login control. </strong></p>
<p>When a user wants to reset the login password. The service will generate a 6-digit verification code and send the code to the user&#39;s mobile phone number.</p>
<p>The user has to use the verification code to set a new password for his/her account. The verification code can be used only one time and it also expires after 1 hour.</p>
<p>If the verification code is incorrect, or if the verification code expired, the user has to request for a new verification code.</p>
<h3 id="requirements">Requirements</h3>
<p>You must have a RingCentral developer account. If you don&#39;t have one, click <a href="https://developer.ringcentral.com">here</a> to create a free developer account.</p>
<p>You also have to <a href="https://developer.ringcentral.com/library/getting-started.html">create a RingCentral app</a> with the &quot;SMS&quot; permissions. And retrieve the Client id and secret for using with this tutorial.</p>
</div><div data-title="Project setup" data-file="../README.md" data-highlight="31-39" class="step"><h3 id="clone-the-project">Clone the project</h3>
<p>Clone the project from GitHub and install RingCentral SDK and dependencies.</p>
</div><div data-title="Set environment" data-file="../dotenv" class="step"><h3 id="set-environment-parameters">Set environment parameters</h3>
<pre><code>$ cp dotenv .env
</code></pre><p>Add your app client id and client secret as well as account login credentials to the .env file.</p>
<ul>
<li><strong>Note</strong>: The username is the account number and it is also the phone number we will use to send SMS from. If you want to use another number under this account, you can create a new variable and specify the phone number and use that number for sending SMS instead.</li>
</ul>
<h3 id="run-the-demo">Run the demo</h3>
<pre><code>$ FLASK_APP=index.py flask run
</code></pre><p>Open your Web browser and enter localhost:5000</p>
</div><div data-title="Web pages and client JavaScript" data-file="../templates/about.html" data-highlight="1-75" class="step"><h3 id="web-pages">Web pages</h3>
<p>In this tutorial, we&#39;ll implement 3 pages:</p>
<p><strong>signup.html</strong>: this page contains a form for users to sign up.</p>
<p><strong>index.html</strong>: this page contains forms for users to login and reset password.</p>
<p><strong>about.html</strong>: this page contains information about this tutorial.</p>
<h3 id="client-side-javascript-files">Client-side JavaScript files</h3>
<p>Client-side JavaScript files are located under the <strong>static/js</strong> folder.</p>
<p>We&#39;ll implement all functions in the <em>main.js</em> file.</p>
</div><div data-title="Add a signup page" data-file="../templates/signup.html" data-highlight="29-46" class="step"><h3 id="add-a-signup-page">Add a signup page</h3>
<p>We need a signup page for users to create a user account.</p>
<p>In this page, we implement a form where a user provides email address, password, mobile phone number, first name and last name to create a new user account.</p>
<p>When the <em>Submit</em> button in the form is clicked, we will use JQuery post function to send a request to the server instead of using the default submit function.</p>
</div><div data-title="Add a login page" data-file="../templates/index.html" data-highlight="29-75" class="step"><h3 id="add-a-login-page">Add a login page</h3>
<p>We also need a login page for users to login.</p>
<p>We create 3 UI blocks to show the login form, reset password form and code verification form in the same page. Then we will use JQuery code to display the forms based on the stage of the login progress.</p>
<p>When a button in a form is clicked, we will use JQuery post function to send a request to the server instead of using the default submit function.</p>
</div><div data-title="Implement  JavaScript client-side" data-file="../static/js/main.js" data-highlight="1-178" class="step"><h3 id="implement-javascript-client-side">Implement JavaScript client-side</h3>
<p>Now, let&#39;s create the <em>main.js</em> file and save it to the <strong>static/js/</strong> folder.</p>
<p>In this file, we will implement all client-side functions to send HTTP requests to our server.</p>
</div><div data-title="Implement signup client-side" data-file="../static/js/main.js" data-highlight="61-96" class="step"><h3 id="implement-signup-client-side">Implement signup client-side</h3>
<p>We implement the <strong>signup()</strong> function which will be called when a user clicks the Submit button on the signup page.</p>
<p>Inside the client-side <strong>signup</strong> function, we will check the mandatory user&#39;s inputs and encrypt the password before posting the <em>signup</em> request to the our server.</p>
<p>If the server response with no error, we then launch the main page, which will show the login form. If it is an error, we will pop up an alert dialog with the error message.</p>
</div><div data-title="Implement signup server-side" data-file="../engine.py" data-highlight="248-270" class="step"><h3 id="implement-signup-server-side">Implement signup server-side</h3>
<p>In the <strong>engine.py</strong> file, we implement the <strong>signup</strong> function which will be called when a <em>signup</em> request is made from the client-side.</p>
<p>Inside the server-side <strong>signup</strong> function, we will create a new user and insert the user information to the <em>users.db</em> database.</p>
<p>For each user account, we create an entry in the database with the following user data:</p>
<ul>
<li><strong>id</strong>: a unique user ID</li>
<li><strong>phoneno</strong>: user&#39;s mobile phone number</li>
<li><strong>email</strong>: user&#39;s email address</li>
<li><strong>pwd</strong>: encrypted password</li>
<li><strong>fname</strong>: user&#39;s first name</li>
<li><strong>lname</strong>: user&#39;s last name</li>
<li><strong>failure</strong>: number of failed login attempts</li>
<li><strong>locked</strong>: account locked/unlocked status</li>
<li><strong>code</strong>: latest sent verification code</li>
<li><strong>codeexpiry</strong>: verification code expiry time</li>
</ul>
</div><div data-title="Implement login client-side" data-file="../static/js/main.js" data-highlight="12-59" class="step"><h3 id="implement-login-client-side">Implement login client-side</h3>
<p>First, we implement the <strong>getSeed</strong> function which will be called when a user clicks the Submit button on the login form.</p>
<p>Inside the client-side <strong>getSeed</strong> function, we will send a <em>getseed</em> request to our server to get a seed value, which will be used to encrypt the user&#39;s password.</p>
<p>Then we implement the <strong>login</strong> function which will be called programmatically when we get the seed from our server.</p>
<p>Inside the client-side <strong>login</strong> function, we will post a <em>login</em> request with the user&#39;s email address, the encrypted password and the id of the seed to the server.</p>
</div><div data-title="Implement login server-side - step 1" data-file="../engine.py" data-highlight="24-43" class="step"><h3 id="implement-login-server-side-step-1">Implement login server-side - step 1</h3>
<p>In the <strong>engine.py</strong> file, we implement the <strong>getSeed</strong> function which will be called when a <em>getseed</em> request is made from the client-side.</p>
<p>Inside the server-side <strong>getSeed</strong> function, we will generate a seed value and add it to the seeds table in our users database. We then send a response back to the client with the seed id and seed value.</p>
</div><div data-title="Implement login server-side - step 2" data-file="../engine.py" data-highlight="47-58" class="step"><h3 id="implement-login-server-side-step-2">Implement login server-side - step 2</h3>
<p>Then we implement the server-side <strong>login</strong> function which will be called when a <em>login</em> request is made from the client-side.</p>
<p>Inside the server-side <strong>login</strong> function, we will read the seed value from the seeds table identified by the seed id we just got back from the client.</p>
<p>Then we read the user&#39;s data (phoneno, pwd, failure, locked, code) from the users database identified by the user&#39;s email address.</p>
</div><div data-title="Implement login server-side - step 3" data-file="../engine.py" data-highlight="66-103" class="step"><h3 id="implement-login-server-side-step-3">Implement login server-side - step 3</h3>
<p>If the user&#39;s data is read successfully, we will check if the account is locked or not.</p>
<p>If the account is locked, we will generate a verification code and send it to the user&#39;s mobile phone number. We will look into the <em>sendSMSMessage</em> function later. To response to the user&#39;s request in this case, we create a message to notify that the account is temporarily locked and a verification code is sent to the user&#39;s mobile phone number. However, we should reveal just the last 4-digit phone number e.g. X-XXX-XXX-1234</p>
<p>If the account is not locked, we will encrypt the account password with the seed value then compare it with the user&#39;s login password taken from the post request <em>inPassword</em>.</p>
<p>Now, if the passwords match, we will proceed the login with an &quot;OK&quot; response.</p>
<p>If the passwords do not match, we will increase the failure count and check if the failure count reaches the MAX_FAILURE (in this demo, this max is set to 3 times) before updating the user database with the new values. Then we send the failure response to the client.</p>
</div><div data-title="Implement the sendSMSMessage function" data-file="../engine.py" data-highlight="72-73" class="step"><h3 id="implement-sendsmsmessage-function">Implement sendSMSMessage function</h3>
<p>When we call the <em>sendSMSMessage</em> function, we pass the following parameters to the function:</p>
<ul>
<li><ul>
<li><strong>conn</strong>: the SQLite database connection handler,</li>
</ul>
</li>
<li><ul>
<li><strong>phoneno</strong>: the user&#39;s mobile phone number, to which we can send a text message,</li>
</ul>
</li>
<li><ul>
<li><strong>email</strong>: the user&#39;s email address which we can use to update the user&#39;s data in the database,</li>
</ul>
</li>
<li><ul>
<li><strong>message</strong>: the message we want to respond to the user who tries to login or to reset password.</li>
</ul>
</li>
</ul>
</div><div data-title="Instantiate the RingCentral Python SDK" data-file="../engine.py" data-highlight="273-281" class="step"><h3 id="instantiate-the-ringcentral-python-sdk">Instantiate the RingCentral Python SDK</h3>
<p>First, we create the SDK instance <code>rcsdk</code> and initialize it with the Client id and secret.</p>
<p>Then we call the <code>rcsdk.platform()</code> function to get the instance of the platform component. The <code>platform</code> instance will be used later to login and call RingCentral APIs.</p>
</div><div data-title="Login to RingCentral account" data-file="../engine.py" data-highlight="283-283" class="step"><h3 id="login-to-ringcentral-account">Login to RingCentral account</h3>
<p>To login RingCentral account, we call the <code>platform.login()</code> function with the account&#39;s username and password predefined in the __credentials.php_ file.</p>
</div><div data-title="Send verification code" data-file="../engine.py" data-highlight="284-290" class="step"><h3 id="generate-a-verification-code">Generate a verification code</h3>
<p>After we logged in RingCentral account successfully, we generate a random 6-digit verification code.</p>
<pre><code>function generateRandomCode($length) {
  $min = 10;
  for ($i=1; $i&lt;$length-1; $i++) {
      $min *= 10;
  }
  $max = ($min * 10) - 1;
  return mt_rand($min, $max);
}
</code></pre><h3 id="send-a-sms-message">Send a SMS message</h3>
<p>We use the <code>platform.post()</code> function to call the SMS API with the specified parameters:</p>
<p>The <code>from</code> number is our RingCentral phone number specified in the environment file.</p>
<p>The <code>to</code> number is the user&#39;s mobile phone number we read from the user&#39;s database.</p>
<p>The <code>text</code> contains the verification code we generated above.</p>
</div><div data-title="Save the verification code" data-file="../engine.py" data-highlight="292-299" class="step"><h3 id="save-the-verification-code">Save the verification code</h3>
<p>After we sent the verification code successfully, we generate a timestamp and save the verification code and the timestamp to the user database.</p>
<p>Finally, we send a response back to the client to notify the user that the user account is locked and a verification code was sent to the user&#39;s mobile phone number.</p>
</div><div data-title="Unlock a user account - client-side" data-file="../static/js/main.js" data-highlight="98-119" class="step"><h3 id="unlock-a-user-account-client-side">Unlock a user account - client-side</h3>
<p>When a user&#39;s account is locked, we ask the user to provide a verification code to unlock the account before the user can retry to login.</p>
<p>We implement the <strong>verifyPasscode</strong> function which will be called when a user clicks the Submit button from the verification form.</p>
<p>Inside the client-side <strong>verifyPasscode</strong> function, we will post a <em>verifypasscode</em> request with the user&#39;s email address and the verification code to the server.</p>
<p>If we receive an &quot;OK&quot; response from the server, which means the verification code matched with the code we saved in the user database, then we will allow the user to try login again.</p>
</div><div data-title="Unlock a user account - server-side" data-file="../engine.py" data-highlight="162-208" class="step"><h3 id="unlock-a-user-account-server-side">Unlock a user account - server-side</h3>
<p>In the <strong>engine.py</strong> file, we implement the <strong>verifyPasscode</strong> function which will be called when a <em>verifypasscode</em> request is posted from the client side.</p>
<p>Inside the server-side <strong>verifyPasscode</strong> function, we will read the user&#39;s data (locked, code, codeexpiry) identified by the user&#39;s email address.</p>
<p>If the user&#39;s data is read successfully, we will check if the account is locked or not.</p>
<p>If the account is not locked, we just send a response asking the user to login normally.</p>
<h3 id="validate-the-verification-code">Validate the verification code</h3>
<p>If the account is locked, we will generate a new timestamp and compare it with the <em>codeexpiry</em> to check if the verification is still valid.</p>
<p>If the verification code is still valid, we validate the user&#39;s provided code and compare it with the one we read from the database.</p>
<p>If the codes match, we unlock the user&#39;s account by updating the user&#39;s data (failure=0, locked=0, code=0) and send a response to allow the user to retry login.</p>
<p>If the codes do not match, we reset the verification code (code=0, codeexpiry=0) and send a response to the user indicating the verification code is invalid. In this demo, the user has to send a new request for a new verification code manually.</p>
</div><div data-title="Reset password - client-side" data-file="../static/js/main.js" data-highlight="147-180" class="step"><h3 id="reset-password-client-side">Reset password - client-side</h3>
<p>Requiring a verification code when a user attempts to change the login password would prevent the account from being taken over by hackers if the account login credentials were compromised.</p>
<p>We implement the <strong>resetPwd</strong> function which will be called when a user clicks the Submit button from the Reset password form.</p>
<p>Inside the client <strong>resetPwd</strong> function, we will post a <em>resetpwd</em> request with the user&#39;s email address to the server.</p>
<p>We provide two steps to reset a password. The first step is to ask for the user&#39;s email address and send it to the server to get a verification code. The second step is when we receive the &quot;OK&quot; response from the server, we will enable the entire form with the new password field and the verification code field.</p>
</div><div data-title="Reset password - server-side" data-file="../engine.py" data-highlight="109-116" class="step"><h3 id="reset-password-server-side">Reset password - server-side</h3>
<p>In the <strong>engine.py</strong> file, we implement the <strong>resetPwd</strong> function which will be called when a <em>resetpwd</em> request is posted from the client side.</p>
<p>Inside the server <strong>resetPwd</strong> function, we will read the user&#39;s data (phoneno, code, codeexpiry) identified by the user&#39;s email address.</p>
<p>If the user&#39;s data is read successfully, we will check if the request is to get a verification code by checking if the <em>code</em> and <em>pwd</em> exist in the request.</p>
</div><div data-title="Send a verification code" data-file="../engine.py" data-highlight="123-130" class="step"><h3 id="send-a-verification-code">Send a verification code</h3>
<p>If the <em>code</em> and <em>pwd</em> do not exist, it is a request for a verification code. Then we call the <strong>sendSMSMessage</strong> function to generate a verification code, send it to the user&#39;s mobile phone number and send a response to the client.</p>
</div><div data-title="Implement reset password" data-file="../engine.py" data-highlight="132-158" class="step"><h3 id="implement-reset-password">Implement reset password</h3>
<p>If the <em>code</em> and the <em>pwd</em> exist, it is a request to set a new password. Then we we will generate a new timestamp and compare it with the <em>codeexpiry</em> to check if the verification is still valid.</p>
<p>If the verification code is still valid, we validate the user&#39;s provided code and compare it with the one we read from the database.</p>
<p>If the codes match, we update the user&#39;s data with the new password, reset the code and the expiry time. And send a response to allow the user to login with a new password.</p>
<p>If the codes do not match, we reset the verification code (code=0, codeexpiry=0) and send a response to the user to indicate that the verification code is invalid. In this demo, the user has to send a new request for a new verification code manually.</p>
</div><div data-title="Resend a verification code" data-file="../engine.py" data-highlight="210-221" class="step"><h3 id="resend-a-verification-code">Resend a verification code</h3>
<p>Every time a user requests for a new verification code, we read the user&#39;s mobile phone number from the user database then call the <em>sendSMSMessage</em> function to generate a new verification code, send it to the user and update the user database with the code and code expiration time.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="tutorial/config.json" data-mode="json">ewogICAgInRpdGxlIjogIkhvdyB0byBpbXBsZW1lbnQgVHdvLUZhY3RvciBBdXRoZW50aWNhdGlvbiIsCiAgICAicmVwbyI6ICJyaW5nY2VudHJhbC10dXRvcmlhbHMvc21zLTJmYS1weXRob24tZGVtbyIsCiAgICAiZGVzY3JpcHRpb24iOiAiTGVhcm4gaG93IHRvIHVzZSBSaW5nQ2VudHJhbCBTTVMgQVBJIHRvIGltcGxlbWVudCBUd28tRmFjdG9yIEF1dGhlbnRpY2F0aW9uIGZvciBlbmhhbmNpbmcgc2VjdXJpdHkuIENsaWNrIHRoZSBcIlN0YXJ0IFR1dG9yaWFsXCIgYnV0dG9uIGJlbG93IHRvIHN0YXJ0LiIsCiAgICAiaGVyb2t1IjogZmFsc2UKfQo=</textarea>
<textarea class="saurus-file" data-file="../README.md" data-mode="markdown">IyMjIE92ZXJ2aWV3ClRoaXMgZGVtbyBXZWIgYXBwIHNob3dzIGhvdyB0byB1c2UgUmluZ0NlbnRyYWwgU01TIEFQSSB0byBpbXBsZW1lbnQgYSAyLUZhY3RvciBBdXRoZW50aWNhdGlvbiAoMkZBKSBzZXJ2aWNlLgoKMkZBIGhlbHBzIHByZXZlbnQgYnJ1dGUgZm9yY2UgYXR0YWNrcyBhbmQgcHJvdGVjdCB1c2VyJ3MgYWNjb3VudHMuCgojIyMgVXNlIGNhc2UgMTogUHJvdGVjdCBhIHVzZXIgYWNjb3VudCBmcm9tIGJydXRlIGZvcmNlIGF0dGFja3MuCkFmdGVyIDMgdW5zdWNjZXNzZnVsIGF0dGVtcHRzIHdlcmUgbWFkZSB0byBsb2cgaW50byBhIHVzZXIncyBhY2NvdW50LCB0aGUgYWNjb3VudCB3aWxsIGJlIHRlbXBvcmFyaWx5IGxvY2tlZC4gVGhlIHNlcnZpY2Ugd2lsbCBnZW5lcmF0ZSBhIDYtZGlnaXQgdmVyaWZpY2F0aW9uIGNvZGUgYW5kIHNlbmQgdGhlIGNvZGUgdG8gdGhlIHVzZXIncyBtb2JpbGUgcGhvbmUgbnVtYmVyLiBUaGUgdXNlciBoYXMgdG8gdXNlIHRoZSB2ZXJpZmljYXRpb24gY29kZSB0byB1bmxvY2sgaGlzL2hlciBhY2NvdW50LiBUaGUgdmVyaWZpY2F0aW9uIGNvZGUgY2FuIGJlIHVzZWQgb25seSBvbmUgdGltZSBhbmQgaXQgYWxzbyBleHBpcmVzIGFmdGVyIDEgaG91ci4gSWYgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIGlzIGluY29ycmVjdCwgb3IgaWYgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIGV4cGlyZWQsIHRoZSB1c2VyIGhhcyB0byByZXF1ZXN0IGZvciBhIG5ldyB2ZXJpZmljYXRpb24gY29kZS4KCiMjIyBVc2UgY2FzZSAyOiBQcmV2ZW50IHRha2luZyBvdmVyIGxvZ2luIGNvbnRyb2wuCldoZW4gYSB1c2VyIHdhbnRzIHRvIHJlc2V0IHRoZSBsb2dpbiBwYXNzd29yZC4gVGhlIHNlcnZpY2Ugd2lsbCBnZW5lcmF0ZSBhIDYtZGlnaXQgdmVyaWZpY2F0aW9uIGNvZGUgYW5kIHNlbmQgdGhlIGNvZGUgdG8gdGhlIHVzZXIncyBtb2JpbGUgcGhvbmUgbnVtYmVyLiBUaGUgdXNlciBoYXMgdG8gdXNlIHRoZSB2ZXJpZmljYXRpb24gY29kZSB0byBzZXQgYSBuZXcgcGFzc3dvcmQgZm9yIGhpcy9oZXIgYWNjb3VudC4gVGhlIHZlcmlmaWNhdGlvbiBjb2RlIGNhbiBiZSB1c2VkIG9ubHkgb25lIHRpbWUgYW5kIGl0IGFsc28gZXhwaXJlcyBhZnRlciAxIGhvdXIuIElmIHRoZSB2ZXJpZmljYXRpb24gY29kZSBpcyBpbmNvcnJlY3QsIG9yIGlmIHRoZSB2ZXJpZmljYXRpb24gY29kZSBleHBpcmVkLCB0aGUgdXNlciBoYXMgdG8gcmVxdWVzdCBmb3IgYSBuZXcgdmVyaWZpY2F0aW9uIGNvZGUuCgojIyMgUmluZ0NlbnRyYWwgQ29ubmVjdCBQbGF0Zm9ybQpSaW5nQ2VudHJhbCBDb25uZWN0IFBsYXRmb3JtIGlzIGEgcmljaCBSRVNUZnVsIEFQSSBwbGF0Zm9ybSB3aXRoIG1vcmUgdGhhbiA2MCBBUElzIGZvciBidXNpbmVzcyBjb21tdW5pY2F0aW9uIGluY2x1ZGVzIGFkdmFuY2VkIHZvaWNlIGNhbGxzLCBjaGF0IG1lc3NhZ2luZywgU01TL01NUyBhbmQgRmF4LgoKIyMjIFJpbmdDZW50cmFsIERldmVsb3BlciBQb3J0YWwKVG8gc2V0dXAgYSBmcmVlIGRldmVsb3BlciBhY2NvdW50LCBjbGljayBbaHR0cHM6Ly9kZXZlbG9wZXIvcmluZ2NlbnRyYWwuY29tXShoZXJlKQoKIyMjIEhvdyB0byBydW4gdGhlIGRlbW8KKiBDbGljayB0aGUgU2lnbnVwIHRhYiBhbmQgY29tcGxldGUgdGhlIHNpZ251cCBmb3JtIHRvIGNyZWF0ZSBhbiBhY2NvdW50LiBVc2UgYSByZWFsIHBob25lIG51bWJlciEKKiBDbGljayB0aGUgTG9naW4gdGFiIGFuZCB0cnkgdG8gbG9naW4gMyB0aW1lcyB3aXRoIGFuIGluY29ycmVjdCBwYXNzd29yZC4KKiBDaGVjayB5b3VyIFNNUyBtZXNzYWdlIHRvIGdldCB0aGUgdmVyaWZpY2F0aW9uIGNvZGUuCiogRW50ZXIgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHRvIHVubG9jayB0aGUgYWNjb3VudC4gVGhlbiBsb2dpbiB3aXRoIGEgY29ycmVjdCBwYXNzd29yZC4KKiBDbGljayB0aGUgTG9naW4gdGFiIGFuZCBjbGljayB0aGUgUmVzZXQgcGFzc3dvcmQgbGluay4KKiBFbnRlciB0aGUgYWNjb3VudCBlbWFpbCBhZGRyZXNzIGFuZCBjbGljayB0aGUgU3VibWl0IGJ1dHRvbi4KKiBDaGVjayB5b3VyIFNNUyBtZXNzYWdlIHRvIGdldCB0aGUgdmVyaWZpY2F0aW9uIGNvZGUuCiogRW50ZXIgYSBuZXcgcGFzc3dvcmQgYW5kIHRoZSB2ZXJpZmljYXRpb24gY29kZSB0aGVuIGNsaWNrIHRoZSBTdWJtaXQgYnV0dG9uIHRvIGNoYW5nZSB0aGUgcGFzc3dvcmQuCiogTG9naW4gd2l0aCBhIG5ldyBwYXNzd29yZC4KCiMjIyBDbG9uZSAtIFNldHVwIC0gUnVuIHRoZSBwcm9qZWN0CmBgYAokIGdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vcmluZ2NlbnRyYWwtdHV0b3JpYWxzL3Ntcy0yZmEtcHl0aG9uLWRlbW8KCiQgY2Qgc21zLTJmYS1weXRob24tZGVtbwoKJCBwaXAgaW5zdGFsbCByaW5nY2VudHJhbAoKJCBwaXAgaW5zdGFsbCBGbGFzaz09MS4wLjIKCiQgY3AgZG90ZW52IC5lbnYKCiQgRkxBU0tfQVBQPWluZGV4LnB5IGZsYXNrIHJ1bgpgYGAKUmVtZW1iZXIgdG8gYWRkIHlvdXIgYXBwIGNsaWVudCBpZCBhbmQgY2xpZW50IHNlY3JldCBhcyB3ZWxsIGFzIGFjY291bnQgbG9naW4gY3JlZGVudGlhbHMgdG8gdGhlIC5lbnYgZmlsZS4KCk9wZW4geW91ciBXZWIgYnJvd3NlciBhbmQgZW50ZXIgbG9jYWxob3N0OjUwMDAKCiMjIFJpbmdDZW50cmFsIFB5dGhvbiBTREsKVGhlIFNESyBpcyBhdmFpbGFibGUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3JpbmdjZW50cmFsL3JpbmdjZW50cmFsLXB5dGhvbgo=</textarea>
<textarea class="saurus-file" data-file="../dotenv" data-mode="text">RU5WSVJPTk1FTlRfTU9ERT1zYW5kYm94CkNMSUVOVF9JRF9TQj1Zb3VyU2FuZGJveENsaWVuSWQKQ0xJRU5UX1NFQ1JFVF9TQj1Zb3VyU2FuZGJveENsaWVuU2VjcmV0CgpVU0VSTkFNRV9TQj1Zb3VyU2FuZGJveFVzZXJuYW1lClBBU1NXT1JEX1NCPVlvdXJTYW5kYm94UGFzc3dvcmQKRVhURU5TSU9OPQoKQ0xJRU5UX0lEX1BST0Q9WW91clByb2R1Y3Rpb25DbGllbnRJZApDTElFTlRfU0VDUkVUX1BST0Q9WW91clByb2R1Y3Rpb25DbGllbnRTZWNyZXQKClVTRVJOQU1FX1BST0Q9WW91clByb2R1Y3Rpb25Vc2VybmFtZQpQQVNTV09SRF9QUk9EPVlvdXJQcm9kdWN0aW9uUGFzc3dvcmQK</textarea>
<textarea class="saurus-file" data-file="../templates/about.html" data-mode="html">PCFkb2N0eXBlIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KICAgIDx0aXRsZT4yLUZhY3RvciBBdXRoZW50aWNhdGlvbiBEZW1vPC90aXRsZT4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3RhdGljL2Nzcy9ib290c3RyYXAubWluLmNzcyI+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJzdGF0aWMvY3NzL21haW4uY3NzIj4KPC9oZWFkPgo8Ym9keT4KICA8bmF2IGNsYXNzPSJuYXZiYXIgbmF2YmFyLWRlZmF1bHQiPgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyLWZsdWlkIj4KICAgICAgPGRpdiBjbGFzcz0ibmF2YmFyLWhlYWRlciI+CiAgICAgICAgPGEgaHJlZj0iLyIgY2xhc3M9Im5hdmJhci1icmFuZCI+PGI+Mi1GYWN0b3I8L2I+IEFVVEhFTlRJQ0FUSU9OPC9hPgogICAgICA8L2Rpdj4KICAgICAgPHVsIGNsYXNzPSJuYXYgbmF2YmFyLW5hdiI+CiAgICAgICAgPGxpPjxhIGhyZWY9Ii8iPkxvZ2luPC9hPjwvbGk+CiAgICAgICAgPGxpPjxhIGhyZWY9Ii9zaWdudXAiPlNpZ251cDwvYT48L2xpPgogICAgICA8L3VsPgogICAgICA8dWwgY2xhc3M9Im5hdiBuYXZiYXItbmF2IG5hdmJhci1yaWdodCI+CiAgICAgICAgPGxpPjxhIGhyZWY9Imh0dHBzOi8vd3d3LnJpbmdjZW50cmFsLmNvbSIgdGFyZ2V0PSJfYmxhbmsiPlBvd2VyZWQgYnkmbmJzcDs8aW1nIGFsdD0iQnJhbmQiIHNyYz0ic3RhdGljL2ltZy9yaW5nY2VudHJhbC5wbmciIGhlaWdodD0iMjAiPjwvYT48L2xpPgogICAgICA8L3VsPgogICAgPC9kaXY+CiAgPC9uYXY+CgogIDxzZWN0aW9uIGlkPSdjb250ZW50Jz4KICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy0xMiI+CiAgICAgICAgPGgyPk92ZXJ2aWV3PC9oMj4KICAgICAgICA8cD4KICAgICAgICAgIFRoaXMgZGVtbyBXZWIgYXBwIHNob3dzIGhvdyB0byB1c2UgUmluZ0NlbnRyYWwgU01TIEFQSSB0byBpbXBsZW1lbnQgYSAyLUZhY3RvciBBdXRoZW50aWNhdGlvbiAoMkZBKSBzZXJ2aWNlLgogICAgICAgICAgMkZBIGhlbHBzIHByZXZlbnQgYnJ1dGUgZm9yY2UgYXR0YWNrcyBhbmQgcHJvdGVjdCB1c2VyJ3MgYWNjb3VudHMuCiAgICAgICAgPC9wPgogICAgICAgIDxwPgogICAgICAgICAgPGgzPlVzZSBjYXNlIDE6IFByb3RlY3QgYSB1c2VyIGFjY291bnQgZnJvbSBicnV0ZSBmb3JjZSBhdHRhY2tzLjwvaDM+IEFmdGVyIDMgdW5zdWNjZXNzZnVsIGF0dGVtcHRzIHdlcmUgbWFkZSB0byBsb2cgaW50byBhIHVzZXIncyBhY2NvdW50LCB0aGUgYWNjb3VudCB3aWxsIGJlIHRlbXBvcmFyaWx5IGxvY2tlZC4gVGhlIHNlcnZpY2Ugd2lsbCBnZW5lcmF0ZSBhIDYtZGlnaXQgdmVyaWZpY2F0aW9uIGNvZGUgYW5kIHNlbmQgdGhlIGNvZGUgdG8gdGhlIHVzZXIncyBtb2JpbGUgcGhvbmUgbnVtYmVyLiBUaGUgdXNlciBoYXMgdG8gdXNlIHRoZSB2ZXJpZmljYXRpb24gY29kZSB0byB1bmxvY2sgaGlzL2hlciBhY2NvdW50LiBUaGUgdmVyaWZpY2F0aW9uIGNvZGUgY2FuIGJlIHVzZWQgb25seSBvbmUgdGltZSBhbmQgaXQgYWxzbyBleHBpcmVzIGFmdGVyIDEgaG91ci4gSWYgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIGlzIGluY29ycmVjdCwgb3IgaWYgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIGV4cGlyZWQsIHRoZSB1c2VyIGhhcyB0byByZXF1ZXN0IGZvciBhIG5ldyB2ZXJpZmljYXRpb24gY29kZS4KICAgICAgICA8L3A+CiAgICAgICAgPHA+CiAgICAgICAgICA8aDM+VXNlIGNhc2UgMjogUHJldmVudCB0YWtpbmcgb3ZlciBsb2dpbiBjb250cm9sLjwvaDM+IFdoZW4gYSB1c2VyIHdhbnRzIHRvIHJlc2V0IHRoZSBsb2dpbiBwYXNzd29yZC4gVGhlIHNlcnZpY2Ugd2lsbCBnZW5lcmF0ZSBhIDYtZGlnaXQgdmVyaWZpY2F0aW9uIGNvZGUgYW5kIHNlbmQgdGhlIGNvZGUgdG8gdGhlIHVzZXIncyBtb2JpbGUgcGhvbmUgbnVtYmVyLiBUaGUgdXNlciBoYXMgdG8gdXNlIHRoZSB2ZXJpZmljYXRpb24gY29kZSB0byBzZXQgYSBuZXcgcGFzc3dvcmQgZm9yIGhpcy9oZXIgYWNjb3VudC4gVGhlIHZlcmlmaWNhdGlvbiBjb2RlIGNhbiBiZSB1c2VkIG9ubHkgb25lIHRpbWUgYW5kIGl0IGFsc28gZXhwaXJlcyBhZnRlciAxIGhvdXIuIElmIHRoZSB2ZXJpZmljYXRpb24gY29kZSBpcyBpbmNvcnJlY3QsIG9yIGlmIHRoZSB2ZXJpZmljYXRpb24gY29kZSBleHBpcmVkLCB0aGUgdXNlciBoYXMgdG8gcmVxdWVzdCBmb3IgYSBuZXcgdmVyaWZpY2F0aW9uIGNvZGUuCiAgICAgICAgPC9wPgoKICAgICAgICA8aDI+UmluZ0NlbnRyYWwgQ29ubmVjdCBQbGF0Zm9ybTwvaDI+CiAgICAgICAgPHA+CiAgICAgICAgICBSaW5nQ2VudHJhbCBDb25uZWN0IFBsYXRmb3JtIGlzIGEgcmljaCBSRVNUZnVsIEFQSSBwbGF0Zm9ybSB3aXRoIG1vcmUgdGhhbiA2MCBBUElzIGZvciBidXNpbmVzcyBjb21tdW5pY2F0aW9uIGluY2x1ZGVzIGFkdmFuY2VkIHZvaWNlIGNhbGxzLCBjaGF0IG1lc3NhZ2luZywgU01TL01NUyBhbmQgRmF4LgogICAgICAgIDwvcD4KICAgICAgICA8aDI+UmluZ0NlbnRyYWwgRGV2ZWxvcGVyIFBvcnRhbDwvaDI+CiAgICAgICAgPHA+CiAgICAgICAgICBUbyBzZXR1cCBhIGZyZWUgZGV2ZWxvcGVyIGFjY291bnQsIGNsaWNrIDxhIGhyZWY9Imh0dHBzOi8vZGV2ZWxvcGVyL3JpbmdjZW50cmFsLmNvbSIgdGFyZ2V0PSJfdG9wIj5oZXJlPC9hPi4KICAgICAgICA8L3A+CgogICAgICAgIDxoMj5Ib3cgdG8gcnVuIHRoZSBkZW1vPC9oMj4KICAgICAgICA8b2w+CiAgICAgICAgICA8bGk+Q2xpY2sgdGhlIFNpZ251cCB0YWIgYW5kIGZpbGwgb3V0IHRoZSBzaWdudXAgZm9ybSB0byBjcmVhdGUgYW4gYWNjb3VudC4gVXNlIGEgcmVhbCBwaG9uZSBudW1iZXIhPC9saT4KICAgICAgICAgIDxsaT5DbGljayB0aGUgTG9naW4gdGFiIGFuZCB0cnkgdG8gbG9naW4gMyB0aW1lcyB3aXRoIGFuIGluY29ycmVjdCBwYXNzd29yZC48L2xpPgogICAgICAgICAgPGxpPkNoZWNrIHlvdXIgU01TIG1lc3NhZ2UgdG8gZ2V0IHRoZSB2ZXJpZmljYXRpb24gY29kZS48L2xpPgogICAgICAgICAgPGxpPkVudGVyIHRoZSB2ZXJpZmljYXRpb24gY29kZSB0byB1bmxvY2sgdGhlIGFjY291bnQuIFRoZW4gbG9naW4gd2l0aCBhIGNvcnJlY3QgcGFzc3dvcmQ8L2xpPgogICAgICAgICAgPGxpPkNsaWNrIHRoZSBMb2dpbiB0YWIgYW5kIGNsaWNrIHRoZSBSZXNldCBwYXNzd29yZCBsaW5rPC9saT4KICAgICAgICAgIDxsaT5FbnRlciB0aGUgYWNjb3VudCBlbWFpbCBhZGRyZXNzIGFuZCBjbGljayB0aGUgU3VibWl0IGJ1dHRvbjwvbGk+CiAgICAgICAgICA8bGk+Q2hlY2sgeW91ciBTTVMgbWVzc2FnZSB0byBnZXQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlLjwvbGk+CiAgICAgICAgICA8bGk+RW50ZXIgYSBuZXcgcGFzc3dvcmQgYW5kIHRoZSB2ZXJpZmljYXRpb24gY29kZSB0aGVuIGNsaWNrIHRoZSBTdWJtaXQgYnV0dG9uIHRvIGNoYW5nZSB0aGUgcGFzc3dvcmQuPC9saT4KICAgICAgICAgIDxsaT5Mb2dpbiB3aXRoIGEgbmV3IHBhc3N3b3JkLjwvbGk+CiAgICAgICAgPC9vbD4KICAgICAgICA8aDI+VGVjaG5vbG9naWVzIHVzZWQ8L2gyPgogICAgICAgIDx1bD4KICAgICAgICAgIDxsaT48YSBocmVmPSdodHRwczovL2RldmVsb3Blci5yaW5nY2VudHJhbC5jb20vYXBpLWRvY3MvbGF0ZXN0L2luZGV4Lmh0bWwjISNSZWZTTVNNZXNzYWdlcy5odG1sJyB0YXJnZXQ9J19ibGFuayc+UmluZ0NlbnRyYWwncyBTTVMgQVBJPC9hPjwvbGk+CiAgICAgICAgICA8bGk+PGEgaHJlZj0naHR0cHM6Ly93d3cuc3FsaXRlLm9yZy8nIHRhcmdldD0nX2JsYW5rJz5TUWxpdGU8L2E+PC9saT4KICAgICAgICAgIDxsaT48YSBocmVmPSdodHRwOi8vZmxhc2sucG9jb28ub3JnLycgdGFyZ2V0PSdfYmxhbmsnPkZsYXNrPC9hPjwvbGk+CiAgICAgICAgICA8bGk+PGEgaHJlZj0naHR0cHM6Ly93d3cucHl0aG9uLm9yZy8nIHRhcmdldD0nX2JsYW5rJz5QeXRob248L2E+PC9saT4KICAgICAgICA8L3VsPgogICAgICAgIDxoMj5BZGRpdGlvbmFsIGluZm9ybWF0aW9uPC9oMj4KICAgICAgICA8dWw+CiAgICAgICAgICA8bGk+U291cmNlIGNvZGU6IDxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9yaW5nY2VudHJhbC10dXRvcmlhbHMvc21zLTJmYS1weXRob24tZGVtbycgdGFyZ2V0PSdfYmxhbmsnPkdpdGh1YjwvYT48L2xpPgogICAgICAgICAgPGxpPkNyZWF0ZWQgYnk6IDxhIGhyZWY9J2h0dHBzOi8vdHdpdHRlci5jb20vcGFjb3Z1JyB0YXJnZXQ9J19ibGFuayc+UGFjbyBWdTwvYT48L2xpPgogICAgICAgIDwvdWw+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgPC9zZWN0aW9uPgo8L2JvZHk+CjwvaHRtbD4K</textarea>
<textarea class="saurus-file" data-file="../templates/signup.html" data-mode="html">PCFkb2N0eXBlIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KICAgIDx0aXRsZT4yLUZhY3RvciBBdXRoZW50aWNhdGlvbiBEZW1vPC90aXRsZT4KICAgIDxzY3JpcHQgc3JjPSJzdGF0aWMvanMvbWFpbi5qcz92PTAuMDAyIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9InN0YXRpYy9qcy9qcXVlcnktMy4xLjAubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9InN0YXRpYy9qcy9zaGEyNTYuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzdGF0aWMvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIj4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9InN0YXRpYy9jc3MvbWFpbi5jc3MiPgo8L2hlYWQ+Cjxib2R5PgogIDxuYXYgY2xhc3M9Im5hdmJhciBuYXZiYXItZGVmYXVsdCI+CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXItZmx1aWQiPgogICAgICA8ZGl2IGNsYXNzPSJuYXZiYXItaGVhZGVyIj4KICAgICAgICA8YSBocmVmPSIvIiBjbGFzcz0ibmF2YmFyLWJyYW5kIj48Yj4yLUZhY3RvcjwvYj4gQVVUSEVOVElDQVRJT048L2E+CiAgICAgIDwvZGl2PgogICAgICA8dWwgY2xhc3M9Im5hdiBuYXZiYXItbmF2Ij4KICAgICAgICA8bGk+PGEgaHJlZj0iLyI+TG9naW48L2E+PC9saT4KICAgICAgICA8bGk+PGEgaHJlZj0iL2Fib3V0Ij5BYm91dDwvYT48L2xpPgogICAgICA8L3VsPgogICAgICA8dWwgY2xhc3M9Im5hdiBuYXZiYXItbmF2IG5hdmJhci1yaWdodCI+CiAgICAgICAgPGxpPjxhIGhyZWY9Imh0dHBzOi8vd3d3LnJpbmdjZW50cmFsLmNvbSIgdGFyZ2V0PSJfYmxhbmsiPlBvd2VyZWQgYnkmbmJzcDsgIDxpbWcgYWx0PSJCcmFuZCIgc3JjPSJzdGF0aWMvaW1nL3JpbmdjZW50cmFsLnBuZyIgaGVpZ2h0PSIyMCI+PC9hPjwvbGk+CiAgICAgIDwvdWw+CiAgICA8L2Rpdj4KICA8L25hdj4KCiAgPHNlY3Rpb24gaWQ9J2NvbnRlbnQnPgogICAgPGRpdiBjbGFzcz0ic2lnbnVwLWZvcm0gcm91bmQtY29ybmVyIj4KICAgICAgPGgxPlNpZ24gdXAgd2l0aCB5b3VyIHZhbGlkIG1vYmlsZSBwaG9uZSBudW1iZXIhPC9oMT4KICAgICAgPGZvcm0gY2xhc3M9ImZvcm0taW5saW5lIj4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgIDxsYWJlbCBmb3I9ImVtYWlsIj5FbWFpbCBhZGRyZXNzICo8L2xhYmVsPgogICAgICAgICAgICA8aW5wdXQgaWQ9ImVtYWlsIiB0eXBlPSJlbWFpbCIgbmFtZT0iZW1haWwiIHNpemU9IjMyIj48L2lucHV0Pjxici8+CiAgICAgICAgICA8bGFiZWwgZm9yPSJwYXNzd29yZCI+UGFzc3dvcmQgKjwvbGFiZWw+CiAgICAgICAgICAgIDxpbnB1dCBpZD0icGFzc3dvcmQiIHR5cGU9InBhc3N3b3JkIiBuYW1lPSJwYXNzd29yZCIgc2l6ZT0iMzIiPjwvaW5wdXQ+PGJyLz4KICAgICAgICAgIDxsYWJlbCBmb3I9InBob25lbm8iPk1vYmlsZSBwaG9uZSAqPC9sYWJlbD4KICAgICAgICAgICAgPGlucHV0IGlkPSJwaG9uZW5vIiB0eXBlPSJudW1iZXIiIG5hbWU9InBob25lbm8iIHNpemU9IjMyIj48L2lucHV0Pjxici8+CiAgICAgICAgICA8bGFiZWwgZm9yPSJmbmFtZSI+Rmlyc3QgbmFtZTwvbGFiZWw+CiAgICAgICAgICAgIDxpbnB1dCBpZD0iZm5hbWUiIHR5cGU9InRleHQiIG5hbWU9ImZuYW1lIiBzaXplPSIzMiI+PC9pbnB1dD48YnIvPgogICAgICAgICAgPGxhYmVsIGZvcj0ibG5hbWUiPkxhc3QgbmFtZTwvbGFiZWw+CiAgICAgICAgICAgIDxpbnB1dCBpZD0ibG5hbWUiIHR5cGU9InRleHQiIG5hbWU9ImxuYW1lIiBzaXplPSIzMiI+PC9pbnB1dD48YnIvPgogICAgICAgIDwvZGl2Pjxici8+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWNhbGwiIG9uY2xpY2s9InNpZ251cCgpIj5TdWJtaXQ8L2J1dHRvbj4KICAgICAgPC9mb3JtPgogICAgPC9kaXY+CiAgPC9zZWN0aW9uPgo8L2JvZHk+CjwvaHRtbD4K</textarea>
<textarea class="saurus-file" data-file="../templates/index.html" data-mode="html">PCFkb2N0eXBlIGh0bWw+DQo8aHRtbD4NCjxoZWFkPg0KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4NCiAgICA8dGl0bGU+Mi1GYWN0b3IgQXV0aGVudGljYXRpb24gRGVtbzwvdGl0bGU+DQogICAgPHNjcmlwdCBzcmM9InN0YXRpYy9qcy9tYWluLmpzP3Y9MC4wMDMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQogICAgPHNjcmlwdCBzcmM9InN0YXRpYy9qcy9qcXVlcnktMy4xLjAubWluLmpzIj48L3NjcmlwdD4NCiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJzdGF0aWMvanMvc2hhMjU2LmpzIj48L3NjcmlwdD4NCiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9InN0YXRpYy9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiPg0KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9InN0YXRpYy9jc3MvbWFpbi5jc3MiPg0KPC9oZWFkPg0KPGJvZHk+DQogIDxuYXYgY2xhc3M9Im5hdmJhciBuYXZiYXItZGVmYXVsdCI+DQogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyLWZsdWlkIj4NCiAgICAgIDxkaXYgY2xhc3M9Im5hdmJhci1oZWFkZXIiPg0KICAgICAgICA8YSBocmVmPSIvIiBjbGFzcz0ibmF2YmFyLWJyYW5kIj48Yj4yLUZhY3RvcjwvYj4gQVVUSEVOVElDQVRJT048L2E+DQogICAgICA8L2Rpdj4NCiAgICAgIDx1bCBjbGFzcz0ibmF2IG5hdmJhci1uYXYiPg0KICAgICAgICA8bGk+PGEgaHJlZj0iL3NpZ251cCI+U2lnbnVwPC9hPjwvbGk+DQogICAgICAgIDxsaT48YSBocmVmPSIvYWJvdXQiPkFib3V0PC9hPjwvbGk+DQogICAgICA8L3VsPg0KICAgICAgPHVsIGNsYXNzPSJuYXYgbmF2YmFyLW5hdiBuYXZiYXItcmlnaHQiPg0KICAgICAgICA8bGk+PGEgaHJlZj0iaHR0cHM6Ly93d3cucmluZ2NlbnRyYWwuY29tIiB0YXJnZXQ9Il9ibGFuayI+UG93ZXJlZCBieSZuYnNwOzxpbWcgYWx0PSJCcmFuZCIgc3JjPSJzdGF0aWMvaW1nL3JpbmdjZW50cmFsLnBuZyIgaGVpZ2h0PSIyMCI+PC9hPjwvbGk+DQogICAgICA8L3VsPg0KICAgIDwvZGl2Pg0KICA8L25hdj4NCg0KICA8c2VjdGlvbiBpZD0nY29udGVudCc+DQogICAgPCEtLSBsb2dpbiBmb3JtIC0tPg0KICAgIDxkaXYgaWQ9ImxvZ2luIiBjbGFzcz0ic2lnbnVwLWZvcm0gcm91bmQtY29ybmVyIj4NCiAgICAgICAgPGgxPkxvZ2luPC9oMT4NCiAgICAgICAgPGRpdiBpZD0iaW5mb19sYWJlbCIgY2xhc3M9ImluZm9fbGFiZWwiPkxvZ2luIHdpdGggZW1haWw8L2Rpdj48L2JyPg0KICAgICAgICA8Zm9ybSBjbGFzcz0iZm9ybS1pbmxpbmUiPg0KICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgPGxhYmVsIGZvcj0idXNlcm5hbWUiPlVzZXIgbmFtZSAqPC9sYWJlbD4NCiAgICAgICAgICAgICAgPGlucHV0IGlkPSJ1c2VybmFtZSIgdHlwZT0idGV4dCIgbmFtZT0idXNlcm5hbWUiIHNpemU9IjMyIj48L2lucHV0Pjxici8+DQogICAgICAgICAgICA8bGFiZWwgZm9yPSJwYXNzd29yZCI+UGFzc3dvcmQgKjwvbGFiZWw+DQogICAgICAgICAgICAgIDxpbnB1dCBpZD0icGFzc3dvcmQiIHR5cGU9InBhc3N3b3JkIiBuYW1lPSJwYXNzd29yZCIgc2l6ZT0iMzIiPjwvaW5wdXQ+DQogICAgICAgICAgPC9kaXY+PGJyLz4NCiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tY2FsbCIgb25jbGljaz0iZ2V0U2VlZCgpIj5Mb2dpbjwvYnV0dG9uPiZuYnNwOyZuYnNwOw0KICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6cmVzZXRQYXNzd29yZCgpIj5SZXNldCBwYXNzd29yZDwvYT4NCiAgICAgICAgPC9mb3JtPg0KICAgIDwvZGl2Pg0KICAgIDwhLS0gdmVyaWZpY2F0aW9uIGZvcm0gLS0+DQogICAgPGRpdiBpZD0idmVyaWZpY2F0aW9uIiBjbGFzcz0ic2lnbnVwLWZvcm0gcm91bmQtY29ybmVyIiBzdHlsZT0iZGlzcGxheTogbm9uZSI+DQogICAgICAgIDxoMT5WZXJpZmljYXRpb248L2gxPg0KICAgICAgICA8ZGl2IGlkPSJpbmZvX2xhYmVsX3ZjIiBjbGFzcz0iaW5mb19sYWJlbCI+WW91ciBhY2NvdW50IGlzIGxvY2tlZC4gQ2hlY2sgeW91ciBTTVMgbWVzc2FnZSBmb3IgdmVyaWZpY2F0aW9uIGNvZGU8L2Rpdj48L2JyPg0KICAgICAgICA8Zm9ybSBjbGFzcz0iZm9ybS1pbmxpbmUiPg0KICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgPGxhYmVsIGZvcj0icGFzc2NvZGUiPlZlcmlmaWNhdGlvbiBjb2RlICo8L2xhYmVsPg0KICAgICAgICAgICAgICA8aW5wdXQgaWQ9InBhc3Njb2RlIiB0eXBlPSJudW1iZXIiIG5hbWU9ImNvZGUiIHNpemU9IjgiPjwvaW5wdXQ+DQogICAgICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6cmVzZW5kQ29kZSgpIj5SZXNlbmQgY29kZTwvYT4NCiAgICAgICAgICA8L2Rpdj48YnIvPg0KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLWNhbGwiIG9uY2xpY2s9InZlcmlmeVBhc3Njb2RlKCkiPlN1Ym1pdDwvYnV0dG9uPg0KICAgICAgICA8L2Zvcm0+DQogICAgPC9kaXY+DQogICAgPCEtLSByZXNldCBwYXNzd29yZCBmb3JtIC0tPg0KICAgIDxkaXYgaWQ9InJlc2V0cHdkIiBjbGFzcz0ic2lnbnVwLWZvcm0gcm91bmQtY29ybmVyIiBzdHlsZT0iZGlzcGxheTogbm9uZSI+DQogICAgICAgIDxoMT5SZXNldCBwYXNzd29yZDwvaDE+DQogICAgICAgIDxkaXYgaWQ9ImluZm9fbGFiZWxfY3AiIGNsYXNzPSJpbmZvX2xhYmVsIj5FbnRlciB5b3VyIGVtYWlsIGFkZHJlc3M8L2Rpdj4NCiAgICAgICAgPGZvcm0gY2xhc3M9ImZvcm0taW5saW5lIj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgIDxsYWJlbCBmb3I9InVzZXJuYW1lX2NwIj5Vc2VyIG5hbWUgKjwvbGFiZWw+DQogICAgICAgICAgICAgIDxpbnB1dCBpZD0idXNlcm5hbWVfY3AiIHR5cGU9InRleHQiIG5hbWU9InVzZXJuYW1lIiBzaXplPSIzMiI+PC9pbnB1dD48YnIvPg0KICAgICAgICAgICAgPGRpdiBpZD0idmVyaWZpY2F0aW9uX2NwIiBzdHlsZT0iZGlzcGxheTogbm9uZSI+DQogICAgICAgICAgICAgIDxsYWJlbCBmb3I9InBhc3N3b3JkX2NwIj5OZXcgcGFzc3dvcmQgKjwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IGlkPSJwYXNzd29yZF9jcCIgdHlwZT0icGFzc3dvcmQiIG5hbWU9InBhc3N3b3JkIiBzaXplPSIzMiI+PC9pbnB1dD48YnIvPg0KICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJjb2RlX2NwIj5WZXJpZmljYXRpb24gY29kZSAqPC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9ImNvZGVfY3AiIHR5cGU9Im51bWJlciIgbmFtZT0iY29kZSIgc2l6ZT0iOCI+PC9pbnB1dD4NCiAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OnJlc2VuZENvZGUoKSIgPlJlc2VuZCBjb2RlPC9hPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPC9kaXY+PGJyLz4NCiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0bi1jYWxsIiBvbmNsaWNrPSJyZXNldFB3ZCgpIj5TdWJtaXQ8L2J1dHRvbj4NCiAgICAgICAgPC9mb3JtPg0KICAgIDwvZGl2Pg0KICA8L3NlY3Rpb24+DQo8L2JvZHk+DQo8L2h0bWw+DQo=</textarea>
<textarea class="saurus-file" data-file="../static/js/main.js" data-mode="javascript">d2luZG93Lm9ubG9hZCA9IGluaXQ7DQpjb25zdCBPSyA9IDANCmNvbnN0IEZBSUxFRCA9IDENCmNvbnN0IExPQ0tFRCA9IDINCmNvbnN0IElOVkFMSUQgPSAzDQpjb25zdCBVTktOT1dOID0gNA0KdmFyIGVtYWlsID0gIiINCmZ1bmN0aW9uIGluaXQoKSB7DQogICQoIiNpbmZvX2xhYmVsIikuaGlkZSgpDQp9DQoNCmZ1bmN0aW9uIGdldFNlZWQoKXsNCiAgZW1haWwgPSAkKCIjdXNlcm5hbWUiKS52YWwoKQ0KICBpZiAoZW1haWwgPT0gIiIpew0KICAgIGFsZXJ0KCJNaXNzaW5nIGVtYWlsIGFkZHJlc3MuIikNCiAgICByZXR1cm4NCiAgfQ0KICAkKCIjaW5mb19sYWJlbCIpLmhpZGUoKQ0KICAkKCIjaW5mb19sYWJlbCIpLmh0bWwoIiIpDQogIHZhciB1cmwgPSAiL2dldHNlZWQiOw0KICB2YXIgcG9zdGluZyA9ICQuZ2V0KHVybCk7DQogIHBvc3RpbmcuZG9uZShmdW5jdGlvbiggcmVzcG9uc2UgKSB7DQogICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTsNCiAgICB2YXIgdGVtcCA9IENyeXB0b0pTLlNIQTI1NigkKCIjcGFzc3dvcmQiKS52YWwoKSwgIiIpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5IZXgpOw0KICAgIHZhciBzZWVkID0gdGVtcCArIGpzb24uc2VlZA0KICAgIHZhciBkaWdlc3QgPSBDcnlwdG9KUy5TSEEyNTYoc2VlZCwgIiIpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5IZXgpOw0KICAgIGxvZ2luKGpzb24uaWQsIGRpZ2VzdCkNCiAgfSk7DQogIHBvc3RpbmcuZmFpbChmdW5jdGlvbihyZXNwb25zZSl7DQogICAgYWxlcnQocmVzcG9uc2Uuc3RhdHVzVGV4dCk7DQogIH0pOw0KfQ0KDQpmdW5jdGlvbiBsb2dpbihpZCwgaGFzaGVkKXsNCiAgdmFyIHVybCA9ICIvbG9naW4iOw0KICB2YXIgZGF0YSA9IHsNCiAgICB1c2VybmFtZTogZW1haWwsDQogICAgcGFzc3dvcmQ6IGhhc2hlZCwNCiAgICBpZDogaWQNCiAgfQ0KICB2YXIgcG9zdGluZyA9ICQucG9zdCggdXJsLCBkYXRhICk7DQogIHBvc3RpbmcuZG9uZShmdW5jdGlvbiggcmVzcG9uc2UgKSB7DQogICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTsNCiAgICBpZiAoanNvbi5lcnJvciA9PSBPSyl7DQogICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKCJhYm91dCIpDQogICAgfWVsc2UgaWYgKGpzb24uZXJyb3IgPT0gRkFJTEVEKXsNCiAgICAgICQoIiNpbmZvX2xhYmVsIikuc2hvdygpDQogICAgICAkKCIjaW5mb19sYWJlbCIpLmh0bWwoanNvbi5tZXNzYWdlKQ0KICAgIH1lbHNlIGlmIChqc29uLmVycm9yID09IExPQ0tFRCl7DQogICAgICAkKCIjbG9naW4iKS5oaWRlKCkNCiAgICAgICQoIiNpbmZvX2xhYmVsX3ZjIikuaHRtbChqc29uLm1lc3NhZ2UpDQogICAgICAkKCIjaW5mb19sYWJlbF92YyIpLnNob3coKQ0KICAgICAgJCgnI3ZlcmlmaWNhdGlvbicpLnNob3coKQ0KICAgIH0NCiAgfSk7DQogIHBvc3RpbmcuZmFpbChmdW5jdGlvbihyZXNwb25zZSl7DQogICAgYWxlcnQocmVzcG9uc2Uuc3RhdHVzVGV4dCk7DQogIH0pOw0KfQ0KDQpmdW5jdGlvbiBzaWdudXAoKXsNCiAgdmFyIHVybCA9ICIvc2lnbnVwIjsNCiAgdmFyIHRlbXAgPSAkKCIjcGFzc3dvcmQiKS52YWwoKQ0KICBpZiAodGVtcCA9PSAiIil7DQogICAgYWxlcnQoIk1pc3NpbmcgcGFzc3dvcmQuIikNCiAgICByZXR1cm4NCiAgfQ0KICBpZiAoJCgiI2VtYWlsIikudmFsKCkgPT0gIiIpew0KICAgIGFsZXJ0KCJNaXNzaW5nIGVtYWlsIGFkZHJlc3MuIikNCiAgICByZXR1cm4NCiAgfQ0KICBpZiAoJCgiI3Bob25lbm8iKS52YWwoKSA9PSAiIil7DQogICAgYWxlcnQoIk1pc3NpbmcgcGhvbmUgbnVtYmVyLiIpDQogICAgcmV0dXJuDQogIH0NCiAgdmFyIGhhc2hlZCA9IENyeXB0b0pTLlNIQTI1Nih0ZW1wLCAiIikudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLkhleCk7DQogIHZhciBkYXRhID0gew0KICAgIGVtYWlsOiAkKCIjZW1haWwiKS52YWwoKSwNCiAgICBwYXNzd29yZDogaGFzaGVkLA0KICAgIHBob25lbm86ICQoIiNwaG9uZW5vIikudmFsKCksDQogICAgZm5hbWU6ICQoIiNmbmFtZSIpLnZhbCgpLA0KICAgIGxuYW1lOiAkKCIjbG5hbWUiKS52YWwoKQ0KICB9DQogIHZhciBwb3N0aW5nID0gJC5wb3N0KCB1cmwsIGRhdGEgKTsNCiAgcG9zdGluZy5kb25lKGZ1bmN0aW9uKCByZXNwb25zZSApIHsNCiAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpOw0KICAgIGlmIChqc29uLmVycm9yID09IE9LKXsNCiAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oIi8iKQ0KICAgIH1lbHNlew0KICAgICAgYWxlcnQoanNvbi5tZXNzYWdlKQ0KICAgIH0NCiAgfSk7DQogIHBvc3RpbmcuZmFpbChmdW5jdGlvbihyZXNwb25zZSl7DQogICAgYWxlcnQocmVzcG9uc2Uuc3RhdHVzVGV4dCk7DQogIH0pOw0KfQ0KDQpmdW5jdGlvbiB2ZXJpZnlQYXNzY29kZSgpIHsNCiAgdmFyIHVybCA9ICIvdmVyaWZ5cGFzc2NvZGUiOw0KICBpZiAoZW1haWwgIT0gIiIpew0KICAgIHZhciBkYXRhID0gew0KICAgICAgdXNlcm5hbWU6IGVtYWlsLA0KICAgICAgcGFzc2NvZGU6ICQoIiNwYXNzY29kZSIpLnZhbCgpDQogICAgfQ0KICAgIHZhciBwb3N0aW5nID0gJC5wb3N0KCB1cmwsIGRhdGEgKTsNCiAgICBwb3N0aW5nLmRvbmUoZnVuY3Rpb24oIHJlc3BvbnNlICkgew0KICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTsNCiAgICAgIGlmIChqc29uLmVycm9yID09IE9LKXsNCiAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbigiLyIpDQogICAgICB9ZWxzZXsNCiAgICAgICAgJCgiI2luZm9fbGFiZWxfdmMiKS5odG1sKGpzb24ubWVzc2FnZSkNCiAgICAgICAgJCgiI2luZm9fbGFiZWxfdmMiKS5zaG93KCkNCiAgICAgIH0NCiAgICB9KTsNCiAgICBwb3N0aW5nLmZhaWwoZnVuY3Rpb24ocmVzcG9uc2Upew0KICAgICAgYWxlcnQocmVzcG9uc2Uuc3RhdHVzVGV4dCk7DQogICAgfSk7DQogIH0NCn0NCg0KZnVuY3Rpb24gcmVzZW5kQ29kZSgpew0KICB2YXIgdXJsID0gInJlc2VuZGNvZGUiOw0KICBpZiAoZW1haWwgIT0gIiIpew0KICAgIHZhciBkYXRhID0gew0KICAgICAgdXNlcm5hbWU6IGVtYWlsDQogICAgfQ0KICAgIHZhciBwb3N0aW5nID0gJC5wb3N0KCB1cmwsIGRhdGEgKTsNCiAgICBwb3N0aW5nLmRvbmUoZnVuY3Rpb24oIHJlc3BvbnNlICkgew0KICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTsNCiAgICAgICQoIiNpbmZvX2xhYmVsX2NwIikuaHRtbChqc29uLm1lc3NhZ2UpDQogICAgICAkKCIjaW5mb19sYWJlbF9jcCIpLnNob3coKQ0KICAgICAgJCgiI2luZm9fbGFiZWxfdmMiKS5odG1sKGpzb24ubWVzc2FnZSkNCiAgICAgICQoIiNpbmZvX2xhYmVsX3ZjIikuc2hvdygpDQogICAgfSk7DQogICAgcG9zdGluZy5mYWlsKGZ1bmN0aW9uKHJlc3BvbnNlKXsNCiAgICAgIGFsZXJ0KHJlc3BvbnNlLnN0YXR1c1RleHQpOw0KICAgIH0pOw0KICB9DQp9DQoNCmZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQoKSB7DQogICQoIiNsb2dpbiIpLmhpZGUoKQ0KICAkKCIjcmVzZXRwd2QiKS5zaG93KCkNCiAgJCgiI3ZlcmlmaWNhdGlvbl9jcCIpLmhpZGUoKQ0KfQ0KDQpmdW5jdGlvbiByZXNldFB3ZCgpIHsNCiAgZW1haWwgPSAkKCIjdXNlcm5hbWVfY3AiKS52YWwoKQ0KICB2YXIgdXJsID0gInJlc2V0cHdkIjsNCiAgaWYgKGVtYWlsICE9ICIiKXsNCiAgICB2YXIgZGF0YSA9IHsNCiAgICAgIHVzZXJuYW1lOiBlbWFpbA0KICAgIH0NCiAgICBpZiAoJCgiI3ZlcmlmaWNhdGlvbl9jcCIpLmlzKCI6dmlzaWJsZSIpKXsNCiAgICAgIHZhciB0ZW1wID0gJCgiI3Bhc3N3b3JkX2NwIikudmFsKCkNCiAgICAgIHZhciBoYXNoZWQgPSBDcnlwdG9KUy5TSEEyNTYodGVtcCwgIiIpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5IZXgpOw0KICAgICAgZGF0YS5wd2QgPSBoYXNoZWQNCiAgICAgIGRhdGEuY29kZSA9ICQoIiNjb2RlX2NwIikudmFsKCkNCiAgICB9DQogICAgdmFyIHBvc3RpbmcgPSAkLnBvc3QoIHVybCwgZGF0YSApOw0KICAgIHBvc3RpbmcuZG9uZShmdW5jdGlvbiggcmVzcG9uc2UgKSB7DQogICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpOw0KICAgICAgaWYgKGpzb24uZXJyb3IgPT0gT0spew0KICAgICAgICAkKCIjcmVzZXRwd2QiKS5oaWRlKCkNCiAgICAgICAgJCgiI2luZm9fbGFiZWwiKS5zaG93KCkNCiAgICAgICAgJCgiI2xvZ2luIikuc2hvdygpDQogICAgICB9ZWxzZSBpZiAoanNvbi5lcnJvciA9PSBVTktOT1dOKXsNCiAgICAgICAgJCgiI2luZm9fbGFiZWxfY3AiKS5odG1sKGpzb24ubWVzc2FnZSkNCiAgICAgIH1lbHNlew0KICAgICAgICAkKCIjdmVyaWZpY2F0aW9uX2NwIikuc2hvdygpDQogICAgICAgICQoIiNpbmZvX2xhYmVsX2NwIikuaHRtbChqc29uLm1lc3NhZ2UpDQogICAgICAgICQoIiNpbmZvX2xhYmVsX3ZjIikuc2hvdygpDQoNCiAgICAgIH0NCiAgICB9KTsNCiAgICBwb3N0aW5nLmZhaWwoZnVuY3Rpb24ocmVzcG9uc2Upew0KICAgICAgYWxlcnQocmVzcG9uc2Uuc3RhdHVzVGV4dCk7DQogICAgfSk7DQogIH0NCn0NCg==</textarea>
<textarea class="saurus-file" data-file="../engine.py" data-mode="python">ZnJvbSByaW5nY2VudHJhbCBpbXBvcnQgU0RLCmltcG9ydCBvcwppbXBvcnQganNvbgoKZnJvbSBoYXNobGliIGltcG9ydCBzaGEyNTYKaW1wb3J0IG1hdGgKaW1wb3J0IGRhdGV0aW1lCmltcG9ydCB0aW1lCmZyb20gcmFuZG9tIGltcG9ydCByYW5kaW50CgppbXBvcnQgc3FsaXRlMwpmcm9tIHNxbGl0ZTMgaW1wb3J0IEVycm9yCmZyb20gZmxhc2sgaW1wb3J0IGcKCk1BWF9GQUlMVVJFID0gMgoKVVNFUl9EQVRBQkFTRSA9ICdkYi91c2Vycy5kYicKZGVmIGVudW0oKiplbnVtcyk6CiAgICByZXR1cm4gdHlwZSgnRW51bScsICgpLCBlbnVtcykKClJlc0NvZGUgPSBlbnVtKE9LPTAsRkFJTEVEPTEsTE9DS0VEPTIsSU5WQUxJRD0zLFVOS05PV049NCxNQVhfRkFJTFVSRT01KQoKCmRlZiBnZXRTZWVkKCk6CiAgICB0cnk6CiAgICAgICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdChVU0VSX0RBVEFCQVNFKQogICAgICAgIHF1ZXJ5ID0gJ0NSRUFURSBUQUJMRSBpZiBub3QgZXhpc3RzIHNlZWRzIChpZCBJTlQgUFJJTUFSWSBLRVksIHNlZWQgRGF0ZVRpbWUgTk9UIE5VTEwpJwogICAgICAgIGN1ciA9IGNvbm4uY3Vyc29yKCkKICAgICAgICBjdXIuZXhlY3V0ZShxdWVyeSkKICAgICAgICBjb25uLmNvbW1pdCgpCiAgICAgICAgZGF0ZVN0ciA9IHN0cihkYXRldGltZS5kYXRldGltZS5ub3coKSkKICAgICAgICBpZCA9IHN0cihnZW5lcmF0ZVJhbmRvbUNvZGUoNSkpCiAgICAgICAgcXVlcnkgPSAiSU5TRVJUIElOVE8gc2VlZHMgVkFMVUVTICgiICsgaWQgKyAiLCciICsgZGF0ZVN0ciArICInKSI7CiAgICAgICAgY3VyID0gY29ubi5jdXJzb3IoKQogICAgICAgIGN1ci5leGVjdXRlKHF1ZXJ5KQogICAgICAgIGNvbm4uY29tbWl0KCkKICAgICAgICBjb25uLmNsb3NlKCkKICAgICAgICBzZWVkT2JqID0ge30KICAgICAgICBzZWVkT2JqWydpZCddID0gaWQKICAgICAgICBzZWVkT2JqWydzZWVkJ10gPSBkYXRlU3RyCiAgICAgICAgcmV0dXJuIGpzb24uZHVtcHMoc2VlZE9iaikKICAgIGV4Y2VwdCBFcnJvciBhcyBlOgogICAgICAgIHJldHVybiBkYXRhYmFzZUVycm9yKCkKCmRlZiBsb2dpbihyZXF1ZXN0KToKICAgIHRyeToKICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KFVTRVJfREFUQUJBU0UpCiAgICAgICAgaW5QYXNzd29yZCA9IHJlcXVlc3QudmFsdWVzLmdldCgncGFzc3dvcmQnKQogICAgICAgIGVtYWlsID0gcmVxdWVzdC52YWx1ZXMuZ2V0KCd1c2VybmFtZScpCiAgICAgICAgcXVlcnkgPSAiU0VMRUNUICogRlJPTSBzZWVkcyBXSEVSRSBpZD0iICsgcmVxdWVzdC52YWx1ZXMuZ2V0KCdpZCcpCiAgICAgICAgY3VyID0gY29ubi5jdXJzb3IoKQogICAgICAgIGN1ci5leGVjdXRlKHF1ZXJ5KQogICAgICAgIHJlc3VsdCA9IGN1ci5mZXRjaG9uZSgpCiAgICAgICAgY29ubi5jb21taXQoKQogICAgICAgIHNlZWRTdHIgPSByZXN1bHRbMV0KICAgICAgICBxdWVyeSA9ICJERUxFVEUgRlJPTSBzZWVkcyBXSEVSRSBpZD0iICsgc3RyKHJlc3VsdFswXSkKICAgICAgICBjdXIuZXhlY3V0ZShxdWVyeSkKICAgICAgICBxdWVyeSA9ICJTRUxFQ1QgcGhvbmVubywgcHdkLCBmYWlsdXJlLCBsb2NrZWQsIGNvZGUgRlJPTSB1c2VycyBXSEVSRSBlbWFpbD0nIiArIGVtYWlsICsgIicgTElNSVQgMSIKICAgICAgICB0cnk6CiAgICAgICAgICAgIGN1ci5leGVjdXRlKHF1ZXJ5KQogICAgICAgICAgICByZXN1bHQgPSBjdXIuZmV0Y2hvbmUoKQogICAgICAgICAgICBpZiByZXN1bHQgPT0gTm9uZToKICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAiV3JvbmcgdXNlciBuYW1lIGFuZCBwYXNzd29yZCBjb21iaW5hdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi4iCiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUmVzcG9uc2UoUmVzQ29kZS5GQUlMRUQsIG1lc3NhZ2UpCgogICAgICAgICAgICBpZiByZXN1bHRbM10gPT0gMTogIyBhY2NvdW50IGlzIGxvY2tlZAogICAgICAgICAgICAgICAgcGhvbmVOdW1iZXIgPSByZXN1bHRbMF0KICAgICAgICAgICAgICAgIG1hc2tQaG9uZU51bWJlciA9ICcnCiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4ocGhvbmVOdW1iZXIpLTQpOgogICAgICAgICAgICAgICAgICAgIG1hc2tQaG9uZU51bWJlciArPSAnWCcKICAgICAgICAgICAgICAgIG1hc2tQaG9uZU51bWJlciArPSAiLSIgKyBwaG9uZU51bWJlcltsZW4ocGhvbmVOdW1iZXIpLTQ6XQogICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJZb3VyIGFjY291bnQgaXMgdGVtcG9yYXJpbHkgbG9ja2VkLiBBIHZlcmlmaWNhdGlvbiBjb2RlIHdhcyBzZW50IHRvIHlvdXIgbW9iaWxlIHBob25lIG51bWJlciAiICsgbWFza1Bob25lTnVtYmVyICsgIi4gUGxlYXNlIGVudGVyIHRoZSB2ZXJpZmljYXRpb24gY29kZSB0byB1bmNsb2NrIHlvdXIgYWNjb3VudC4iCiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFNNU01lc3NhZ2UoY29ubiwgcmVzdWx0WzBdLCBlbWFpbCwgbWVzc2FnZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlZWQgPSByZXN1bHRbMV0gKyBzZWVkU3RyCiAgICAgICAgICAgICAgICBoYXNoZWQgPSBzaGEyNTYoc2VlZCkuaGV4ZGlnZXN0KCkKICAgICAgICAgICAgICAgIGlmIGluUGFzc3dvcmQgPT0gaGFzaGVkOgogICAgICAgICAgICAgICAgICAgIHF1ZXJ5ID0gIlVQREFURSB1c2VycyBTRVQgZmFpbHVyZT0gMCwgbG9ja2VkPSAwLCBjb2RlPTAsIGNvZGVleHBpcnk9MCBXSEVSRSBlbWFpbD0nIiArIGVtYWlsICsgIiciOwogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgY3VyLmV4ZWN1dGUocXVlcnkpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4uY29tbWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAiV2VsY29tZSBiYWNrLiIKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlc3BvbnNlKFJlc0NvZGUuT0ssIG1lc3NhZ2UpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEVycm9yIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhYmFzZUVycm9yKCkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSA9IHJlc3VsdFsyXSAjIGxvZyBhdHRlbXB0IGZhaWx1cmUKICAgICAgICAgICAgICAgICAgICAjIGluY3JlYXNlIGZhaWx1cmUgY291bnQKICAgICAgICAgICAgICAgICAgICBmYWlsdXJlICs9IDEKICAgICAgICAgICAgICAgICAgICBxdWVyeSA9ICIiCiAgICAgICAgICAgICAgICAgICAgaWYgZmFpbHVyZSA+PSBNQVhfRkFJTFVSRToKICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgPSAiVVBEQVRFIHVzZXJzIFNFVCBmYWlsdXJlPSAwLCBsb2NrZWQ9IDEgV0hFUkUgZW1haWw9JyIgKyBlbWFpbCArICInIjsKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9ICJVUERBVEUgdXNlcnMgU0VUIGZhaWx1cmU9ICIgKyBzdHIoZmFpbHVyZSkgKyAiIFdIRVJFIGVtYWlsPSciICsgZW1haWwgKyAiJyI7CiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICBjdXIuZXhlY3V0ZShxdWVyeSkKICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5jb21taXQoKQogICAgICAgICAgICAgICAgICAgICAgICBjb25uLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJXcm9uZyB1c2VyIG5hbWUgYW5kIHBhc3N3b3JkIGNvbWJpbmF0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLiIKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlc3BvbnNlKFJlc0NvZGUuRkFJTEVELCBtZXNzYWdlKQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFcnJvciBhcyBlOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YWJhc2VFcnJvcigpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICByZXR1cm4gZGF0YWJhc2VFcnJvcigpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcmV0dXJuIGRhdGFiYXNlRXJyb3IoKQoKZGVmIHJlc2V0UHdkKHJlcXVlc3QpOgogICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdChVU0VSX0RBVEFCQVNFKQogICAgY3VyID0gY29ubi5jdXJzb3IoKQogICAgZW1haWwgPSByZXF1ZXN0LnZhbHVlcy5nZXQoJ3VzZXJuYW1lJykKICAgIHF1ZXJ5ID0gIlNFTEVDVCBwaG9uZW5vLCBjb2RlLCBjb2RlZXhwaXJ5IEZST00gdXNlcnMgV0hFUkUgZW1haWw9JyIgKyBlbWFpbCArICInIExJTUlUIDEiOwogICAgdHJ5OgogICAgICAgIGN1ci5leGVjdXRlKHF1ZXJ5KQogICAgICAgIHJlc3VsdCA9IGN1ci5mZXRjaG9uZSgpCiAgICAgICAgaWYgcmVzdWx0IGlzIE5vbmU6CiAgICAgICAgICAgIG1lc3NhZ2UgPSAiQWNjb3VudCBkb2VzIG5vdCBleGlzdC4iCiAgICAgICAgICAgIHJldHVybiBjcmVhdGVSZXNwb25zZShSZXNDb2RlLlVOS05PV04sIG1lc3NhZ2UpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHdkID0gcmVxdWVzdC52YWx1ZXMuZ2V0KCdwd2QnKQogICAgICAgICAgICBpblBhc3Njb2RlID0gcmVxdWVzdC52YWx1ZXMuZ2V0KCdjb2RlJykKICAgICAgICAgICAgaWYgcHdkID09IE5vbmUgYW5kIGluUGFzc2NvZGUgPT0gTm9uZToKICAgICAgICAgICAgICAgIHBob25lTnVtYmVyID0gcmVzdWx0WzBdCiAgICAgICAgICAgICAgICBtYXNrUGhvbmVOdW1iZXIgPSAnJwogICAgICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHBob25lTnVtYmVyKS00KToKICAgICAgICAgICAgICAgICAgICBtYXNrUGhvbmVOdW1iZXIgKz0gJ1gnCiAgICAgICAgICAgICAgICBtYXNrUGhvbmVOdW1iZXIgKz0gIi0iICsgcGhvbmVOdW1iZXJbbGVuKHBob25lTnVtYmVyKS00Ol0KICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAiQSB2ZXJpZmljYXRpb24gY29kZSB3YXMgc2VudCB0byB5b3VyIG1vYmlsZSBwaG9uZSBudW1iZXIgIiArIG1hc2tQaG9uZU51bWJlciArICIuIFBsZWFzZSBlbnRlciB0aGUgdmVyaWZpY2F0aW9uIGNvZGUgdG8gcmVzZXQgeW91ciBwYXNzd29yZC4iCiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFNNU01lc3NhZ2UoY29ubiwgcmVzdWx0WzBdLCBlbWFpbCwgbWVzc2FnZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHRpbWVTdGFtcCA9IG1hdGguZmxvb3IodGltZS50aW1lKCkpCiAgICAgICAgICAgICAgICBnYXAgPSB0aW1lU3RhbXAgLSByZXN1bHRbMl0KICAgICAgICAgICAgICAgIGlmIGdhcCA8IDM2MDA6CiAgICAgICAgICAgICAgICAgICAgaWYgaW5QYXNzY29kZSA+IDEwMDAwMCBhbmQgcmVzdWx0WzFdID09IGludChpblBhc3Njb2RlKToKICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgPSAiVVBEQVRFIHVzZXJzIFNFVCBwd2Q9ICciICsgcHdkICsgIicsIGNvZGU9MCwgbG9ja2VkPTAsIGZhaWx1cmU9MCwgY29kZWV4cGlyeT0wIFdIRVJFIGVtYWlsPSciICsgZW1haWwgKyAiJyI7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ci5leGVjdXRlKHF1ZXJ5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5jb21taXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIlBhc3N3b3JkIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5LiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVSZXNwb25zZShSZXNDb2RlLk9LLCBtZXNzYWdlKQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXJyb3IgYXMgZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhYmFzZUVycm9yKCkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9ICJVUERBVEUgdXNlcnMgU0VUIGNvZGU9MCwgY29kZWV4cGlyeT0wIFdIRVJFIGVtYWlsPSciICsgZW1haWwgKyAiJyIKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyLmV4ZWN1dGUocXVlcnkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uLmNvbW1pdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAiSW52YWxpZCB2ZXJpZmljYXRpb24gY29kZS4gQ2xpY2sgcmVzZW5kIHRvIGdldCBhIG5ldyB2ZXJpZmljYXRpb24gY29kZS4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUmVzcG9uc2UoUmVzQ29kZS5JTlZBTElELCBtZXNzYWdlKQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXJyb3IgYXMgZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhYmFzZUVycm9yKCkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgY29ubi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJWZXJpZmljYXRpb24gY29kZSBleHBpcmVkLiBDbGljayByZXNlbmQgdG8gZ2V0IGEgbmV3IHZlcmlmaWNhdGlvbiBjb2RlLiIKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUmVzcG9uc2UoUmVzQ29kZS5JTlZBTElELCBtZXNzYWdlKQogICAgZXhjZXB0IEVycm9yIGFzIGU6CiAgICAgICAgcmV0dXJuIGRhdGFiYXNlRXJyb3IoKQoKZGVmIHZlcmlmeVBhc3Njb2RlKHJlcXVlc3QpOgogICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdChVU0VSX0RBVEFCQVNFKQogICAgY3VyID0gY29ubi5jdXJzb3IoKQogICAgaW5QYXNzY29kZSA9IGludChyZXF1ZXN0LnZhbHVlcy5nZXQoJ3Bhc3Njb2RlJykpCiAgICBlbWFpbCA9IHJlcXVlc3QudmFsdWVzLmdldCgndXNlcm5hbWUnKQogICAgcXVlcnkgPSAiU0VMRUNUIGxvY2tlZCwgY29kZSwgY29kZWV4cGlyeSBGUk9NIHVzZXJzIFdIRVJFIGVtYWlsPSciICsgZW1haWwgKyAiJyBMSU1JVCAxIgogICAgdHJ5OgogICAgICAgIGN1ci5leGVjdXRlKHF1ZXJ5KQogICAgICAgIHJlc3VsdCA9IGN1ci5mZXRjaG9uZSgpCiAgICAgICAgaWYgcmVzdWx0WzBdID09IDA6CiAgICAgICAgICAgIG1lc3NhZ2UgPSAiUGxlYXNlIGxvZ2luLiIKICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlc3BvbnNlKFJlc0NvZGUuT0ssIG1lc3NhZ2UpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgaW5QYXNzY29kZSAhPSBOb25lOgogICAgICAgICAgICAgICAgdGltZVN0YW1wID0gbWF0aC5mbG9vcih0aW1lLnRpbWUoKSkKICAgICAgICAgICAgICAgIGdhcCA9IHRpbWVTdGFtcCAtIHJlc3VsdFsyXSAjY29kZWV4cGlyeQogICAgICAgICAgICAgICAgaWYgZ2FwIDwgMzYwMDoKICAgICAgICAgICAgICAgICAgICBpZiBpblBhc3Njb2RlID4gMTAwMDAwIGFuZCByZXN1bHRbMV0gPT0gaW5QYXNzY29kZToKICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgPSAiVVBEQVRFIHVzZXJzIFNFVCBmYWlsdXJlPTAsIGxvY2tlZD0wLCBjb2RlPTAsIGNvZGVleHBpcnk9MCBXSEVSRSBlbWFpbD0nIiArIGVtYWlsICsgIiciCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ci5leGVjdXRlKHF1ZXJ5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5jb21taXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIlBsZWFzZSBsb2dpbi4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUmVzcG9uc2UoUmVzQ29kZS5PSywgbWVzc2FnZSkKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEVycm9yIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YWJhc2VFcnJvcigpCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgPSAiVVBEQVRFIHVzZXJzIFNFVCBjb2RlPTAsIGNvZGVleHBpcnk9MCBXSEVSRSBlbWFpbD0nIiArIGVtYWlsICsgIiciCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ci5leGVjdXRlKHF1ZXJ5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5jb21taXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIkludmFsaWQgdmVyaWZpY2F0aW9uIGNvZGUuIENsaWNrIHJlc2VuZCB0byBnZXQgYSBuZXcgdmVyaWZpY2F0aW9uIGNvZGUuIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlc3BvbnNlKFJlc0NvZGUuSU5WQUxJRCwgbWVzc2FnZSkKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEVycm9yIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YWJhc2VFcnJvcigpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGNvbm4uY2xvc2UoKQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAiVmVyaWZpY2F0aW9uIGNvZGUgZXhwaXJlZC4gQ2xpY2sgcmVzZW5kIHRvIGdldCBhIG5ldyB2ZXJpZmljYXRpb24gY29kZS4iCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlc3BvbnNlKFJlc0NvZGUuSU5WQUxJRCwgbWVzc2FnZSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGNvbm4uY2xvc2UoKQogICAgICAgICAgICAgICAgbWVzc2FnZSA9ICJJbnZhbGlkIHZlcmlmaWNhdGlvbiBjb2RlLiIKICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVSZXNwb25zZShSZXNDb2RlLkZBSUxFRCwgbWVzc2FnZSkKICAgIGV4Y2VwdCBFcnJvciBhcyBlOgogICAgICAgIHJldHVybiBkYXRhYmFzZUVycm9yKCkKCmRlZiByZXNlbmRDb2RlKHJlcXVlc3QpOgogICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdChVU0VSX0RBVEFCQVNFKQogICAgY3VyID0gY29ubi5jdXJzb3IoKQogICAgZW1haWwgPSByZXF1ZXN0LnZhbHVlcy5nZXQoJ3VzZXJuYW1lJykKICAgIHF1ZXJ5ID0gIlNFTEVDVCBwaG9uZW5vIEZST00gdXNlcnMgV0hFUkUgZW1haWw9JyIgKyBlbWFpbCArICInIExJTUlUIDEiOwogICAgdHJ5OgogICAgICAgIGN1ci5leGVjdXRlKHF1ZXJ5KQogICAgICAgIHJlc3VsdCA9IGN1ci5mZXRjaG9uZSgpCiAgICAgICAgbWVzc2FnZSA9ICJQbGVhc2UgY2hlY2sgeW91ciBTTVMgZm9yIHZlcmlmaWNhdGlvbiBjb2RlIHRvIHVuY2xvY2sgeW91ciBhY2NvdW50LiIKICAgICAgICByZXR1cm4gc2VuZFNNU01lc3NhZ2UoY29ubiwgcmVzdWx0WzBdLCBlbWFpbCwgbWVzc2FnZSkKICAgIGV4Y2VwdCBFcnJvciBhcyBlOgogICAgICAgIHJldHVybiBkYXRhYmFzZUVycm9yKCkKCmRlZiBjcmVhdGVUYWJsZSgpOgogICAgdHJ5OgogICAgICAgIGNvbm4gPSBzcWxpdGUzLmNvbm5lY3QoVVNFUl9EQVRBQkFTRSkKICAgICAgICBxdWVyeSA9ICdDUkVBVEUgVEFCTEUgaWYgbm90IGV4aXN0cyB1c2VycyAoaWQgSU5UIEFJIFBSSU1BUlkgS0VZLCBwaG9uZW5vIFZBUkNIQVIoMTIpIFVOSVFVRSBOT1QgTlVMTCwgZW1haWwgVkFSQ0hBUig2NCkgVU5JUVVFIE5PVCBOVUxMLCBwd2QgVkFSQ0hBUigyNTYpIE5PVCBOVUxMLCBmbmFtZSBWQVJDSEFSKDQ4KSBOT1QgTlVMTCwgbG5hbWUgVkFSQ0hBUig0OCkgTk9UIE5VTEwsIGZhaWx1cmUgSU5UIERFRkFVTFQgMCwgbG9ja2VkIElOVCBERUZBVUxUIDAsIGNvZGUgSU5UMTEgREVGQVVMVCAwLCBjb2RlZXhwaXJ5IERPVUJMRSBERUZBVUxUIDApJwogICAgICAgIGN1ciA9IGNvbm4uY3Vyc29yKCkKICAgICAgICBjdXIuZXhlY3V0ZShxdWVyeSkKICAgICAgICBjb25uLmNvbW1pdCgpCiAgICAgICAgY29ubi5jbG9zZSgpCiAgICBleGNlcHQgRXJyb3IgYXMgZToKICAgICAgICBwcmludChlKQoKZGVmIGNhbkxvZ2luKCk6CiAgICB0cnk6CiAgICAgICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdChVU0VSX0RBVEFCQVNFKQogICAgICAgIHF1ZXJ5ID0gIlNFTEVDVCAqIEZST00gdXNlcnMiCiAgICAgICAgY3VyID0gY29ubi5jdXJzb3IoKQogICAgICAgIHJlc3VsdCA9IGN1ci5leGVjdXRlKHF1ZXJ5KQogICAgICAgIGNvbm4uY2xvc2UoKQogICAgICAgIGlmIHJlc3VsdCA9PSBOb25lOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgZXhjZXB0IEVycm9yIGFzIGU6CiAgICAgICAgcmV0dXJuIEZhbHNlCgpkZWYgc2lnbnVwKHJlcXVlc3QpOgogICAgY3JlYXRlVGFibGUoKQogICAgdHJ5OgogICAgICAgIHBob25lbm8gPSByZXF1ZXN0LnZhbHVlcy5nZXQoJ3Bob25lbm8nKQogICAgICAgIGVtYWlsID0gcmVxdWVzdC52YWx1ZXMuZ2V0KCdlbWFpbCcpCiAgICAgICAgcGFzc3dvcmQgPSByZXF1ZXN0LnZhbHVlcy5nZXQoJ3Bhc3N3b3JkJykKICAgICAgICBmbmFtZSA9IHJlcXVlc3QudmFsdWVzLmdldCgnZm5hbWUnKQogICAgICAgIGxuYW1lID0gcmVxdWVzdC52YWx1ZXMuZ2V0KCdsbmFtZScpCiAgICAgICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdChVU0VSX0RBVEFCQVNFKQogICAgICAgIHZhbFN0ciA9ICJOVUxMLCciICsgcGhvbmVubyArICInLCIKICAgICAgICB2YWxTdHIgKz0gIiciICsgZW1haWwgKyAiJywiCiAgICAgICAgdmFsU3RyICs9ICInIiArIHBhc3N3b3JkICsgIicsIgogICAgICAgIHZhbFN0ciArPSAiJyIgKyBmbmFtZSArICInLCIKICAgICAgICB2YWxTdHIgKz0gIiciICsgbG5hbWUgKyAiJywwLDAsMCwwIgogICAgICAgIHF1ZXJ5ID0gIklOU0VSVCBJTlRPIHVzZXJzIFZBTFVFUyAoIisgdmFsU3RyICsiKSIKICAgICAgICBjdXIgPSBjb25uLmN1cnNvcigpCiAgICAgICAgY3VyLmV4ZWN1dGUocXVlcnkpCiAgICAgICAgY29ubi5jb21taXQoKQogICAgICAgIGNvbm4uY2xvc2UoKQogICAgICAgIG1lc3NhZ2UgPSAiQ29uZ3JhdHVsYXRpb25zLiIKICAgICAgICByZXR1cm4gY3JlYXRlUmVzcG9uc2UoUmVzQ29kZS5PSywgbWVzc2FnZSkKICAgIGV4Y2VwdCBFcnJvciBhcyBlOgogICAgICAgIHJldHVybiBkYXRhYmFzZUVycm9yKCkKCmRlZiBzZW5kU01TTWVzc2FnZShjb25uLCB0b051bWJlciwgZW1haWwsIG1lc3NhZ2UpOgogICAgaWYgb3MuZ2V0ZW52KCJFTlZJUk9OTUVOVF9NT0RFIikgPT0gInNhbmRib3giOgogICAgICAgIHJjc2RrID0gU0RLKG9zLmdldGVudigiQ0xJRU5UX0lEX1NCIiksIG9zLmdldGVudigiQ0xJRU5UX1NFQ1JFVF9TQiIpLCAnaHR0cHM6Ly9wbGF0Zm9ybS5kZXZ0ZXN0LnJpbmdjZW50cmFsLmNvbScpCiAgICAgICAgdXNlcm5hbWUgPSBvcy5nZXRlbnYoIlVTRVJOQU1FX1NCIikKICAgICAgICBwd2QgPSBvcy5nZXRlbnYoIlBBU1NXT1JEX1NCIikKICAgIGVsc2U6CiAgICAgICAgcmNzZGsgPSBTREsob3MuZ2V0ZW52KCJDTElFTlRfSURfUFJPRCIpLCBvcy5nZXRlbnYoIkNMSUVOVF9TRUNSRVRfUFJPRCIpLCAnaHR0cHM6Ly9wbGF0Zm9ybS5yaW5nY2VudHJhbC5jb20nKQogICAgICAgIHVzZXJuYW1lID0gb3MuZ2V0ZW52KCJVU0VSTkFNRV9QUk9EIikKICAgICAgICBwd2QgPSBvcy5nZXRlbnYoIlBBU1NXT1JEX1BST0QiKQogICAgcGxhdGZvcm0gPSByY3Nkay5wbGF0Zm9ybSgpCiAgICB0cnk6CiAgICAgICAgcGxhdGZvcm0ubG9naW4odXNlcm5hbWUsICcnLCBwd2QpCiAgICAgICAgY29kZSA9IHN0cihnZW5lcmF0ZVJhbmRvbUNvZGUoNikpCiAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAnZnJvbSc6IHsncGhvbmVOdW1iZXInOiB1c2VybmFtZX0sCiAgICAgICAgICAgICd0byc6IFt7J3Bob25lTnVtYmVyJzogdG9OdW1iZXJ9XSwKICAgICAgICAgICAgJ3RleHQnOiAiWW91ciB2ZXJpZmljYXRpb24gY29kZSBpcyAiICsgY29kZQogICAgICAgICAgICB9CiAgICAgICAgcmVzcG9uc2UgPSBwbGF0Zm9ybS5wb3N0KCcvYWNjb3VudC9+L2V4dGVuc2lvbi9+L3NtcycsIHBhcmFtcykKICAgICAgICB0cnk6CiAgICAgICAgICAgIHRzID0gdGltZS50aW1lKCkKICAgICAgICAgICAgdGltZVN0YW1wID0gc3RyKG1hdGguZmxvb3IodHMpKQogICAgICAgICAgICBxdWVyeSA9ICJVUERBVEUgdXNlcnMgU0VUIGNvZGU9ICIgKyBjb2RlICsgIiwgY29kZWV4cGlyeT0gIiArIHRpbWVTdGFtcCArICIgV0hFUkUgZW1haWw9JyIgKyBlbWFpbCArICInIjsKICAgICAgICAgICAgY3VyID0gY29ubi5jdXJzb3IoKQogICAgICAgICAgICBjdXIuZXhlY3V0ZShxdWVyeSkKICAgICAgICAgICAgY29ubi5jb21taXQoKQogICAgICAgICAgICBjb25uLmNsb3NlKCkKICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlc3BvbnNlKFJlc0NvZGUuTE9DS0VELCBtZXNzYWdlKQogICAgICAgIGV4Y2VwdCBFcnJvciBhcyBlOgogICAgICAgICAgICBjb25uLmNsb3NlKCkKICAgICAgICAgICAgcmV0dXJuIGRhdGFiYXNlRXJyb3IoKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGNvbm4uY2xvc2UoKQogICAgICAgIG1lc3NhZ2UgPSAiQ2Fubm90IHNlbmQgdmVyaWZpY2F0aW9uIGNvZGUuIFBsZWFzZSBjbGljayB0aGUgUmVzZW5kIGJ1dHRvbiB0byB0cnkgYWdhaW4uIgogICAgICAgIHJldHVybiBjcmVhdGVSZXNwb25zZShSZXNDb2RlLlVOS05PV04sIG1lc3NhZ2UpCgpkZWYgZ2VuZXJhdGVSYW5kb21Db2RlKGRpZ2l0cyk6CiAgICByYW5nZV9zdGFydCA9IDEwKiooZGlnaXRzLTEpCiAgICByYW5nZV9lbmQgPSAoMTAqKmRpZ2l0cyktMQogICAgcmV0dXJuIHJhbmRpbnQocmFuZ2Vfc3RhcnQsIHJhbmdlX2VuZCkKCmRlZiBjcmVhdGVSZXNwb25zZShlcnJvciwgbWVzc2FnZSk6CiAgICByZXNwb25zZSA9IHsKICAgICAgICAnZXJyb3InOiBlcnJvciwKICAgICAgICAnbWVzc2FnZSc6IG1lc3NhZ2UKICAgIH0KICAgIHJldHVybiBqc29uLmR1bXBzKHJlc3BvbnNlKQoKZGVmIGRhdGFiYXNlRXJyb3IoKToKICAgIHJlc3BvbnNlID0gewogICAgICAgICdlcnJvcic6IFJlc0NvZGUuVU5LTk9XTiwKICAgICAgICAnbWVzc2FnZSc6ICJVc2VyIGRhdGFiYXNlIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLiIKICAgIH0KICAgIHJldHVybiBqc29uLmR1bXBzKHJlc3BvbnNlKQo=</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div><div class="saurus-file-actions"><a href="https://github.com/ringcentral-tutorials/sms-2fa-python-demo" target="_blank" class="explorer-get-code"><i class="fa fa-lg fa-github-square"></i>View Code on GitHub</a><a href="https://github.com/ringcentral-tutorials/sms-2fa-python-demo/archive/master.zip" target="_blank" class="explorer-get-code"><i class="fa fa-lg icon-download"></i>Download Source Code</a></div></div></div></div><footer><div class="footer-content"><div class="footer-content-row layout-2-cols"><div class="footer-content-row-left"><div class="footer-logo"><a href="http://www.ringcentral.com"><span>Back to the main site</span></a></div></div><div class="footer-content-row-right"><ul class="footer-text-links"><li><a href="http://www.ringcentral.com/legal.html" target="_blank"><span>Legal</span></a></li><li><a href="http://www.ringcentral.com/security-statement.html" target="_blank"><span>Security Policy</span></a></li><li><a href="http://www.ringcentral.com/legal/privacy-policy.html" target="_blank"><span>Privacy Policy</span></a></li><li><a ng-href="https://devcommunity.ringcentral.com" target="_blank" href="https://devcommunity.ringcentral.com"><span>Community</span></a></li><li><a href="https://medium.com/ringcentral-developers" target="_blank"><span>Blog</span></a></li></ul></div></div><div class="footer-content-row footer-content-row-last layout-2-cols"><div class="footer-content-row-left"><span class="footer-copyright"> 1999-<span ng-bind="::main.nowObj|date:'yyyy'" class="footer-copyright-to ng-binding">2017</span> RingCentral, Inc. All rights reserved.</span></div><div class="footer-content-row-right"><div class="footer-image-links"><div class="footer-image-link footer-image-link-facebook"><a target="_blank" href="http://www.facebook.com/ringcentral"><i class="fa icon-facebook"></i></a></div><div class="footer-image-link footer-image-link-twitter"><a target="_blank" href="http://twitter.com/ringcentraldevs"><i class="fa icon-twitter"></i></a></div><div class="footer-image-link footer-image-link-google-plus"><a target="_blank" href="https://www.google.com/+ringcentral"><i class="fa icon-google_plus"></i></a></div><div class="footer-image-link footer-image-link-linkedin"><a target="_blank" href="http://www.linkedin.com/company/ringcentral"><i class="fa icon-linkedin"></i></a></div><div class="footer-image-link footer-image-link-youtube"><a target="_blank" href="http://www.youtube.com/ringcentral"><i class="fa icon-youtube"></i></a></div></div></div></div></div></footer></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script><script>window.tutorialName="How to implement Two-Factor Authentication";</script><script src="viewsaurus.js"></script></body></html>